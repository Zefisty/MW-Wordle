<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Modern Warships Wordle</title>
<style>
body {
  background:#0b1a2a;
  color:white;
  font-family:Arial;
  text-align:center;
  padding:20px;
}

#title { font-size:24px; margin-bottom:5px; }
.lang-select { position:absolute; top:20px; right:20px; }
.lang-select button { margin-left:5px; padding:5px 10px; cursor:pointer; }

#hintBtn { position:absolute; top:20px; left:20px; padding:5px 10px; cursor:pointer; }

.input-box{
  position:relative;
  display:inline-flex;
  gap:8px;
  margin-top:50px;
}

input{
  padding:10px;
  width:220px;
  font-size:16px;
  border-radius:5px;
  border:2px solid #555;
  background:#1b2b3a;
  color:white;
}

button{
  padding:10px 20px;
  font-size:16px;
  border-radius:5px;
  border:none;
  cursor:pointer;
  background:#3a7bd5;
  color:white;
}

#playAgain{ display:none; margin-top:15px; }

.autocomplete-suggestions{
  position:absolute;
  top:50px;
  width:220px;
  background:#1b2b3a;
  border:1px solid #555;
  display:none;
  max-height:150px;
  overflow-y:auto;
  z-index:10;
}

.autocomplete-suggestion{
  padding:8px;
  cursor:pointer;
}

.autocomplete-suggestion:hover{
  background:#3a7bd5;
}

.hint-square{
  width:75px;
  height:75px;
  border-radius:6px;
  margin:4px;
  font-size:14px;
  font-weight:bold;
  display:flex;
  align-items:center;
  justify-content:center;
  text-align:center;
  padding:4px;
  word-wrap:break-word;
}

.green{background:#6aaa64;}
.red{background:#d9534f;}
.orange{background:#f0ad4e;}

table{margin:10px auto;}
#attempts{margin-top:10px;font-weight:bold;}
#labels{margin-top:15px;margin-bottom:5px;}
</style>
</head>
<body>

<h2 id="title">üö¢ Modern Warships Wordle</h2>

<button id="hintBtn">–ü–æ–¥—Å–∫–∞–∑–∫–∞ (2x)</button>

<div class="lang-select">
  <button id="langRu">–†—É—Å—Å–∫–∏–π</button>
  <button id="langEn">English</button>
</div>

<div class="input-box">
  <input id="guessInput" placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä–∞–±–ª—å">
  <button id="guessBtn">–£–≥–∞–¥–∞—Ç—å</button>
  <div id="suggestions" class="autocomplete-suggestions"></div>
</div>

<div id="attempts"></div>
<div id="labels"></div>
<div id="history"></div>
<button id="playAgain">–ò–≥—Ä–∞—Ç—å —Å–Ω–æ–≤–∞</button>

<script>
// ----------------- –Ø–ó–´–ö -----------------
const text = {
  ru:{
    guess:"–£–≥–∞–¥–∞—Ç—å",
    placeholder:"–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä–∞–±–ª—å",
    attempts:"–ü–æ–ø—ã—Ç–æ–∫ –æ—Å—Ç–∞–ª–æ—Å—å",
    win:"üéâ –¢—ã —É–≥–∞–¥–∞–ª!",
    lose:"‚õî –ö–æ—Ä–∞–±–ª—å –±—ã–ª:",
    again:"–ò–≥—Ä–∞—Ç—å —Å–Ω–æ–≤–∞",
    notFound:"–ö–æ—Ä–∞–±–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω",
    labels:"–°—Ç—Ä–∞–Ω–∞ | –¢–∏—Ä | –†–µ–¥–∫–æ—Å—Ç—å | –¢–∏–ø | HP | –°–∫–æ—Ä–æ—Å—Ç—å | –ú–∞–Ω–µ–≤—Ä–µ–Ω–Ω–æ—Å—Ç—å | –û–±–∑–æ—Ä",
    hintUsed:"–í—ã —É–∂–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ –≤—Å–µ —Å–≤–æ–∏ –ø–æ–¥—Å–∫–∞–∑–∫–∏!",
    hintWeak:"üîπ –°–ª–∞–±–∞—è –ø–æ–¥—Å–∫–∞–∑–∫–∞: —Ä–∞–∑–º–µ—Ä –∫–æ—Ä–∞–±–ª—è ~ ",
    hintStrong:"‚úÖ –ü–æ–¥—Å–∫–∞–∑–∫–∞: —Å—Ç—Ä–∞–Ω–∞ –∫–æ—Ä–∞–±–ª—è ‚Äî ",
    countryName: { "USA":"–°–®–ê", "Russia":"–†–æ—Å—Å–∏—è", "China":"–ö–∏—Ç–∞–π" },
    typeName: { "Destroyer":"–≠—Å–º–∏–Ω–µ—Ü", "Frigate":"–§—Ä–µ–≥–∞—Ç" },
    rarityName: { "Epic":"–≠–ø–∏—á–µ—Å–∫–∏–π", "Rare":"–†–µ–¥–∫–∏–π" },
    sizeName: { "Large":"–ë–æ–ª—å—à–æ–π", "Medium":"–°—Ä–µ–¥–Ω–∏–π" }
  },
  en:{
    guess:"Guess",
    placeholder:"Enter ship",
    attempts:"Attempts left",
    win:"üéâ You guessed!",
    lose:"‚õî Ship was:",
    again:"Play again",
    notFound:"Ship not found",
    labels:"Country | Tier | Rarity | Type | HP | Speed | Maneuver | View",
    hintUsed:"You already used all your hints!",
    hintWeak:"üîπ Weak hint: ship size ~ ",
    hintStrong:"‚úÖ Hint: Ship country ‚Äî ",
    countryName: { "USA":"USA", "Russia":"Russia", "China":"China" },
    typeName: { "Destroyer":"Destroyer", "Frigate":"Frigate" },
    rarityName: { "Epic":"Epic", "Rare":"Rare" },
    sizeName: { "Large":"Large", "Medium":"Medium" }
  }
};
let lang="ru";

// ----------------- –î–ê–ù–ù–´–ï -----------------
const ships=[
  { name:"Zumwalt", country:"USA", type:"Destroyer", tier:10, rarity:"Epic", hp:15500, speed:30, maneuver:85, view:12, size:"Large" },
  { name:"Gorshkov", country:"Russia", type:"Frigate", tier:9, rarity:"Rare", hp:12000, speed:28, maneuver:80, view:11, size:"Medium" },
  { name:"Type 055", country:"China", type:"Destroyer", tier:10, rarity:"Epic", hp:16000, speed:32, maneuver:82, view:12, size:"Large" }
];

let secretShip;
let history=[];
const maxAttempts=6;
let hintStep=2;

// ----------------- UI -----------------
const guessInput=document.getElementById("guessInput");
const guessBtn=document.getElementById("guessBtn");
const suggestions=document.getElementById("suggestions");
const historyDiv=document.getElementById("history");
const attemptsDiv=document.getElementById("attempts");
const playAgainBtn=document.getElementById("playAgain");
const labelsDiv=document.getElementById("labels");
const langRuBtn=document.getElementById("langRu");
const langEnBtn=document.getElementById("langEn");
const hintBtn=document.getElementById("hintBtn");

// ----------------- –§–£–ù–ö–¶–ò–ò -----------------
function newGame(){
  secretShip=ships[Math.floor(Math.random()*ships.length)];
  history=[];
  historyDiv.innerHTML="";
  playAgainBtn.style.display="none";
  hintStep=2;
  updateAttempts();
  updateLangUI();
}

function updateLangUI(){
  guessBtn.textContent=text[lang].guess;
  guessInput.placeholder=text[lang].placeholder;
  playAgainBtn.textContent=text[lang].again;
  labelsDiv.textContent=text[lang].labels;
  updateAttempts();
  hintBtn.textContent = hintStep>0 ? 
    (lang==="ru"?"–ü–æ–¥—Å–∫–∞–∑–∫–∞ (" + hintStep +"x)":"Hint ("+hintStep+"x)") : 
    (lang==="ru"?"–ü–æ–¥—Å–∫–∞–∑–∫–∞ (0x)":"Hint (0x)");
}

function updateAttempts(){
  attemptsDiv.textContent=`${text[lang].attempts}: ${maxAttempts-history.length}`;
}

function localizeShip(ship){
  return {
    name:ship.name,
    country:text[lang].countryName[ship.country],
    type:text[lang].typeName[ship.type],
    rarity:text[lang].rarityName[ship.rarity],
    tier:ship.tier,
    hp:ship.hp,
    speed:ship.speed,
    maneuver:ship.maneuver,
    view:ship.view,
    size:text[lang].sizeName[ship.size]
  };
}

function makeSquare(v,c,num=false){
  let color="red";
  let arrow="";
  if(v===c) color="green";
  else if(num){ color="orange"; arrow=v>c?"‚¨áÔ∏è":"‚¨ÜÔ∏è"; }
  return {value:v,color,arrow};
}

// ----------------- –ò–ì–†–ê -----------------
function checkGuess(){
  if(history.length>=maxAttempts) return;
  const guess=guessInput.value.trim();
  const shipRaw=ships.find(s=>s.name.toLowerCase()===guess.toLowerCase());
  if(!shipRaw){ alert(text[lang].notFound); return; }

  const ship=localizeShip(shipRaw);
  const secret=localizeShip(secretShip);

  const cells=[
    makeSquare(ship.country,secret.country),
    makeSquare(ship.tier,secret.tier,true),
    makeSquare(ship.rarity,secret.rarity),
    makeSquare(ship.type,secret.type),
    makeSquare(ship.hp,secret.hp,true),
    makeSquare(ship.speed,secret.speed,true),
    makeSquare(ship.maneuver,secret.maneuver,true),
    makeSquare(ship.view,secret.view,true)
  ];

  let html="<table><tr>";
  cells.forEach(c=>{
    html+=`<td>
      <div class="hint-square ${c.color}">${c.value}</div>
      <div>${c.arrow || (c.color==="green"?"‚úÖ":"‚ùå")}</div>
    </td>`;
  });
  html+="</tr></table>";

  history.push(html);
  historyDiv.innerHTML=history.join("");
  guessInput.value="";
  suggestions.style.display="none";
  updateAttempts();

  if(ship.name===secret.name){ 
    alert(text[lang].win); 
    playAgainBtn.style.display="inline-block";
  } else if(history.length===maxAttempts){
    alert(text[lang].lose+" "+shipRaw.name); 
    playAgainBtn.style.display="inline-block";
  }
}

// ----------------- –ü–û–î–°–ö–ê–ó–ö–ò -----------------
hintBtn.onclick = ()=>{
  if(hintStep===0){ 
    alert(text[lang].hintUsed);
    return; 
  }
  const secret=localizeShip(secretShip);
  if(hintStep===2){
    alert(text[lang].hintWeak + secret.size);
  } else if(hintStep===1){
    alert(text[lang].hintStrong + secret.country);
  }
  hintStep--;
  updateLangUI();
}

// ----------------- –ê–í–¢–û–î–û–ü–û–õ–ù–ï–ù–ò–ï -----------------
guessInput.addEventListener("input",()=>{
  const val=guessInput.value.toLowerCase();
  suggestions.innerHTML="";
  if(!val){ suggestions.style.display="none"; return; }
  const matches=ships.filter(s=>s.name.toLowerCase().startsWith(val));
  if(!matches.length){ suggestions.style.display="none"; return; }
  suggestions.style.display="block";
  matches.forEach(s=>{
    const div=document.createElement("div");
    div.textContent=s.name;
    div.className="autocomplete-suggestion";
    div.onclick=()=>{ guessInput.value=s.name; suggestions.style.display="none"; };
    suggestions.appendChild(div);
  });
});

// ----------------- –°–û–ë–´–¢–ò–Ø -----------------
guessBtn.onclick=checkGuess;
playAgainBtn.onclick=newGame;
langRuBtn.onclick=()=>{lang="ru"; updateLangUI();};
langEnBtn.onclick=()=>{lang="en"; updateLangUI();};

// ----------------- –°–¢–ê–†–¢ -----------------
newGame();
updateLangUI();
</script>
</body>
</html>
