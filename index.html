<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Modern Warships Wordle</title>

<style>
body{
  background:#0b1a2a;
  color:white;
  font-family:Arial,sans-serif;
  text-align:center;
  padding:20px;
  margin:0;
}

/* Top bar */
.top{
  display:flex;
  justify-content:space-between;
  margin-bottom:10px;
}
.box{
  background:#1b2b3a;
  border:1px solid #555;
  padding:6px 10px;
  border-radius:6px;
  font-size:14px;
}
.lang button{
  background:none;
  border:none;
  color:white;
  cursor:pointer;
  padding:4px 8px;
}
.lang button.active{
  background:#3a7bd5;
  border-radius:4px;
}

/* Title */
h1{margin:10px 0 14px}

/* Buttons */
button{
  padding:10px 18px;
  font-size:16px;
  border:none;
  border-radius:5px;
  background:#3a7bd5;
  color:white;
  cursor:pointer;
}

/* Hint */
#hintBtn{margin-bottom:6px}
#hintHistory{
  font-size:14px;
  margin-bottom:12px;
}

/* Input */
.input-box{
  position:relative;
  display:inline-flex;
  gap:8px;
  margin-bottom:8px;
}
input{
  width:220px;
  padding:10px;
  font-size:16px;
  background:#1b2b3a;
  color:white;
  border:2px solid #555;
  border-radius:5px;
}
.auto{
  position:absolute;
  top:48px;
  left:0;
  width:220px;
  background:#1b2b3a;
  border:1px solid #555;
  display:none;
  z-index:5;
}
.auto div{
  padding:8px;
  cursor:pointer;
}
.auto div:hover{background:#3a7bd5}

/* Grid for squares with equal spacing */
.board{
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:8px;
  margin-top:10px;
}
.grid{
  display:flex;
  justify-content:center; /* —Ä–∞–≤–Ω—ã–µ –æ—Ç—Å—Ç—É–ø—ã –ø–æ —Ü–µ–Ω—Ç—Ä—É */
  gap:6px; /* —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É –∫–≤–∞–¥—Ä–∞—Ç–∞–º–∏ */
}

/* Squares */
.square{
  width:60px;
  height:60px;
  border-radius:6px;
  font-size:11px;
  font-weight:bold;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:4px;
  word-break:break-word;
  border:1px solid #555; /* —Ä–∞–º–∫–∞ —É –≤—Å–µ—Ö –∫–≤–∞–¥—Ä–∞—Ç–æ–≤ */
}
.label{
  background:#1b2b3a;
}
.green{background:#6aaa64}
.red{background:#d9534f}
.orange{background:#f0ad4e}

.col{
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:3px;
}
.icon{font-size:14px}

#attempts{margin:14px 0}
#playAgain{display:none;margin-top:14px}
</style>
</head>

<body>

<div class="top">
  <div class="box" id="streak"></div>
  <div class="box lang">
    <button data-lang="ru" class="active">RU</button>
    <button data-lang="en">EN</button>
  </div>
</div>

<h1 id="title">üö¢ Modern Warships Wordle</h1>

<button id="hintBtn">üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞</button>
<div id="hintHistory"></div>

<div class="input-box">
  <input id="guessInput">
  <button id="guessBtn">–£–≥–∞–¥–∞—Ç—å</button>
  <div id="auto" class="auto"></div>
</div>

<div id="attempts"></div>

<div class="board">
  <!-- Labels -->
  <div id="labels" class="grid"></div>

  <!-- Guess history -->
  <div id="history" class="grid"></div>
</div>

<button id="playAgain">–ò–≥—Ä–∞—Ç—å —Å–Ω–æ–≤–∞</button>

<script>
// –¢–µ–∫—Å—Ç
const T={
ru:{
labels:["–°—Ç—Ä–∞–Ω–∞","–¢–∏—Ä","–†–µ–¥–∫–æ—Å—Ç—å","–ö–ª–∞—Å—Å","HP","–°–∫–æ—Ä","–ú–∞–Ω—ë–≤—Ä","–û–±–∑–æ—Ä"],
guess:"–£–≥–∞–¥–∞—Ç—å",
again:"–ò–≥—Ä–∞—Ç—å —Å–Ω–æ–≤–∞",
attempts:"–ü–æ–ø—ã—Ç–æ–∫ –æ—Å—Ç–∞–ª–æ—Å—å",
win:"üéâ –¢—ã —É–≥–∞–¥–∞–ª!",
lose:"‚õî –ö–æ—Ä–∞–±–ª—å –±—ã–ª:",
hints:["–ö–ª–∞—Å—Å –∫–æ—Ä–∞–±–ª—è","–†–µ–¥–∫–æ—Å—Ç—å","–°—Ç—Ä–∞–Ω–∞"],
hintBtn:n=>"üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞ ("+n+")",
streak:"üî• –°–µ—Ä–∏—è",
noHints:"–ü–æ–¥—Å–∫–∞–∑–∫–∏ –∑–∞–∫–æ–Ω—á–∏–ª–∏—Å—å"
},
en:{
labels:["Country","Tier","Rarity","Class","HP","Speed","Maneuver","View"],
guess:"Guess",
again:"Play again",
attempts:"Attempts left",
win:"üéâ You guessed!",
lose:"‚õî Ship was:",
hints:["Ship class","Rarity","Country"],
hintBtn:n=>"üí° Hint ("+n+")",
streak:"üî• Streak",
noHints:"No hints left"
}
};

let lang="ru";
const ships=[
{name:"Zumwalt",country:{ru:"–°–®–ê",en:"USA"},tier:10,rarity:{ru:"–≠–ø–∏—á–µ—Å–∫–∞—è",en:"Epic"},class:{ru:"–≠—Å–º–∏–Ω–µ—Ü",en:"Destroyer"},hp:15500,speed:30,man:85,view:12},
{name:"Gorshkov",country:{ru:"–†–æ—Å—Å–∏—è",en:"Russia"},tier:9,rarity:{ru:"–†–µ–¥–∫–∞—è",en:"Rare"},class:{ru:"–§—Ä–µ–≥–∞—Ç",en:"Frigate"},hp:12000,speed:28,man:80,view:11},
{name:"Yamato",country:{ru:"–Ø–ø–æ–Ω–∏—è",en:"Japan"},tier:10,rarity:{ru:"–õ–µ–≥–µ–Ω–¥–∞—Ä–Ω–∞—è",en:"Legendary"},class:{ru:"–õ–∏–Ω–∫–æ—Ä",en:"Battleship"},hp:18000,speed:27,man:60,view:10}
];

let secret,attempts=6,hintsLeft=3;
let guesses=[],hintHistory=[];
let streak=Number(localStorage.getItem("streak")||0);

const $=id=>document.getElementById(id);

function render(){
$("labels").innerHTML="";
T[lang].labels.forEach(l=>{
const d=document.createElement("div");
d.className="square label";
d.textContent=l;
$("labels").appendChild(d);
});

$("attempts").textContent=T[lang].attempts+": "+attempts;
$("guessBtn").textContent=T[lang].guess;
$("playAgain").textContent=T[lang].again;
$("hintBtn").textContent=T[lang].hintBtn(hintsLeft);
$("streak").textContent=T[lang].streak+": "+streak;

// Render history
$("history").innerHTML="";
guesses.forEach(ship=>{
const row=document.createElement("div");
row.className="grid";
[
cmp(ship.country[lang],secret.country[lang]),
cmp(ship.tier,secret.tier,true),
cmp(ship.rarity[lang],secret.rarity[lang]),
cmp(ship.class[lang],secret.class[lang]),
cmp(ship.hp,secret.hp,true),
cmp(ship.speed,secret.speed,true),
cmp(ship.man,secret.man,true),
cmp(ship.view,secret.view,true)
].forEach(c=>{
const col=document.createElement("div");
col.className="col";
col.innerHTML=`<div class="square ${c.col}">${c.v}</div><div class="icon">${c.i}</div>`;
row.appendChild(col);
});
$("history").appendChild(row);
});

// Render hints
$("hintHistory").innerHTML="";
hintHistory.forEach(h=>{
$("hintHistory").innerHTML+=`<div>${T[lang].hints[h]}: ${getHintValue(h)}</div>`;
});
}

function cmp(v,c,num=false){
let col="red",i="‚ùå";
if(v===c){col="green";i="‚úÖ";}
else if(num){col="orange";i=v>c?"‚¨áÔ∏è":"‚¨ÜÔ∏è";}
return {v,col,i};
}

function getHintValue(i){
if(i===0)return secret.class[lang];
if(i===1)return secret.rarity[lang];
if(i===2)return secret.country[lang];
}

// Events
$("guessBtn").onclick=()=>{
if(attempts<=0)return;
const name=$("guessInput").value.trim().toLowerCase();
const ship=ships.find(s=>s.name.toLowerCase()===name);
if(!ship)return;

attempts--;
guesses.push(ship);
$("guessInput").value="";
$("auto").style.display="none";

if(ship.name===secret.name){
alert(T[lang].win);
streak++;localStorage.setItem("streak",streak);
$("playAgain").style.display="inline-block";
attempts=0;
}else if(attempts===0){
alert(T[lang].lose+" "+secret.name);
streak=0;localStorage.setItem("streak",0);
$("playAgain").style.display="inline-block";
}
render();
};

$("hintBtn").onclick=()=>{
if(hintsLeft<=0){alert(T[lang].noHints);return;}
hintHistory.push(3-hintsLeft);
hintsLeft--;
render();
};

$("guessInput").oninput=()=>{
const v=$("guessInput").value.toLowerCase();
$("auto").innerHTML="";
if(!v){$("auto").style.display="none";return;}
ships.filter(s=>s.name.toLowerCase().startsWith(v)).forEach(s=>{
const d=document.createElement("div");
d.textContent=s.name;
d.onclick=()=>{$("guessInput").value=s.name;$("auto").style.display="none";}
$("auto").appendChild(d);
});
$("auto").style.display=$("auto").children.length?"block":"none";
};

document.querySelectorAll(".lang button").forEach(b=>{
b.onclick=()=>{
document.querySelectorAll(".lang button").forEach(x=>x.classList.remove("active"));
b.classList.add("active");
lang=b.dataset.lang;
render();
};
});

$("playAgain").onclick=start;

function start(){
secret=ships[Math.floor(Math.random()*ships.length)];
attempts=6;hintsLeft=3;
guesses=[];hintHistory=[];
$("playAgain").style.display="none";
render();
}

start();
</script>
</body>
</html>
