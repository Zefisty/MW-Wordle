<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Modern Warships Wordle</title>
<style>
body {
  background:#0b1a2a;
  color:white;
  font-family:Arial;
  text-align:center;
  padding:20px;
  margin:0;
}

#title { font-size:24px; margin-bottom:10px; }

.lang-select {
  position:absolute;
  top:10px;
  right:10px;
}

.lang-btn {
  padding:5px 10px;
  background:#3a7bd5;
  color:white;
  border:none;
  border-radius:4px;
  cursor:pointer;
  font-weight:bold;
}
.lang-btn.active{background:#5590e0;}

.input-box{
  position:relative;
  display:inline-flex;
  gap:8px;
  margin-top:20px;
}

input{
  padding:10px;
  width:220px;
  font-size:16px;
  border-radius:5px;
  border:2px solid #555;
  background:#1b2b3a;
  color:white;
}

button{
  padding:10px 20px;
  font-size:16px;
  border-radius:5px;
  border:none;
  cursor:pointer;
  background:#3a7bd5;
  color:white;
}
button:hover{background:#5590e0;}

#playAgain{display:none;margin-top:15px;}
#hintBtn{margin-top:10px;}
#hintHistory{margin-top:10px;font-style:italic;color:#ccc;}
.autocomplete-suggestions{
  position:absolute;
  top:45px;
  width:220px;
  background:#1b2b3a;
  border:1px solid #555;
  display:none;
  max-height:150px;
  overflow-y:auto;
  z-index:10;
}
.autocomplete-suggestion{
  padding:8px;
  cursor:pointer;
}
.autocomplete-suggestion:hover{background:#5590e0;}

.hint-square{
  width:75px;
  height:75px;
  border-radius:6px;
  margin:4px;
  font-size:12px;
  font-weight:bold;
  display:flex;
  align-items:center;
  justify-content:center;
  text-align:center;
  padding:4px;
  word-wrap:break-word;
}
.green{background:#6aaa64;}
.red{background:#d9534f;}
.orange{background:#f0ad4e;}
table{margin:10px auto;}
#attempts{margin-top:10px;font-weight:bold;}
#history-labels{color:#ccc;margin-top:20px;font-size:14px;}
</style>
</head>
<body>

<h2 id="title">üö¢ Modern Warships Wordle</h2>

<button id="hintBtn">–ü–æ–¥—Å–∫–∞–∑–∫–∞ (3)</button>
<div id="hintHistory"></div>

<div class="lang-select">
<button class="lang-btn active" data-lang="ru">–†—É—Å—Å–∫–∏–π</button>
<button class="lang-btn" data-lang="en">English</button>
</div>

<div class="input-box">
<input id="guessInput" placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä–∞–±–ª—å">
<button id="guessBtn">–£–≥–∞–¥–∞—Ç—å</button>
<div id="suggestions" class="autocomplete-suggestions"></div>
</div>

<div id="attempts"></div>
<div id="history-labels">–°—Ç—Ä–∞–Ω–∞ | –¢–∏—Ä | –†–µ–¥–∫–æ—Å—Ç—å | –ö–ª–∞—Å—Å | HP | –°–∫–æ—Ä–æ—Å—Ç—å | –ú–∞–Ω–µ–≤—Ä–µ–Ω–Ω–æ—Å—Ç—å | –û–±–∑–æ—Ä</div>
<div id="history"></div>
<button id="playAgain">–ò–≥—Ä–∞—Ç—å —Å–Ω–æ–≤–∞</button>

<script>
// ---------------- –¢–ï–ö–°–¢–´ ----------------
const text = {
  ru:{
    guess:"–£–≥–∞–¥–∞—Ç—å",
    placeholder:"–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä–∞–±–ª—å",
    attempts:"–ü–æ–ø—ã—Ç–æ–∫ –æ—Å—Ç–∞–ª–æ—Å—å",
    win:"üéâ –¢—ã —É–≥–∞–¥–∞–ª!",
    lose:"‚õî –ö–æ—Ä–∞–±–ª—å –±—ã–ª:",
    again:"–ò–≥—Ä–∞—Ç—å —Å–Ω–æ–≤–∞",
    notFound:"–ö–æ—Ä–∞–±–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω",
    hintUsed:"–ü–æ–¥—Å–∫–∞–∑–∫–∏ –∑–∞–∫–æ–Ω—á–∏–ª–∏—Å—å!",
    hintClass:"–ö–ª–∞—Å—Å: ",
    hintCountry:"–°—Ç—Ä–∞–Ω–∞: ",
    hintTier:"–¢–∏—Ä: ",
    hintRarity:"–†–µ–¥–∫–æ—Å—Ç—å: ",
    labels:"–°—Ç—Ä–∞–Ω–∞ | –¢–∏—Ä | –†–µ–¥–∫–æ—Å—Ç—å | –ö–ª–∞—Å—Å | HP | –°–∫–æ—Ä–æ—Å—Ç—å | –ú–∞–Ω–µ–≤—Ä–µ–Ω–Ω–æ—Å—Ç—å | –û–±–∑–æ—Ä"
  },
  en:{
    guess:"Guess",
    placeholder:"Enter ship",
    attempts:"Attempts left",
    win:"üéâ You guessed!",
    lose:"‚õî Ship was:",
    again:"Play again",
    notFound:"Ship not found",
    hintUsed:"No hints left!",
    hintClass:"Class: ",
    hintCountry:"Country: ",
    hintTier:"Tier: ",
    hintRarity:"Rarity: ",
    labels:"Country | Tier | Rarity | Class | HP | Speed | Maneuver | View"
  }
};

let lang="ru";

// ---------------- –î–ê–ù–ù–´–ï –ö–û–†–ê–ë–õ–ï–ô ----------------
const ships=[
  { name:"Zumwalt", country:{ru:"–°–®–ê",en:"USA"}, type:{ru:"–≠—Å–º–∏–Ω–µ—Ü",en:"Destroyer"}, tier:10, rarity:{ru:"–≠–ø–∏—á–µ—Å–∫–∏–π",en:"Epic"}, hp:15500, speed:30, maneuver:85, view:12 },
  { name:"Gorshkov", country:{ru:"–†–æ—Å—Å–∏—è",en:"Russia"}, type:{ru:"–§—Ä–µ–≥–∞—Ç",en:"Frigate"}, tier:9, rarity:{ru:"–†–µ–¥–∫–∏–π",en:"Rare"}, hp:12000, speed:28, maneuver:80, view:11 },
  { name:"Type 055", country:{ru:"–ö–∏—Ç–∞–π",en:"China"}, type:{ru:"–≠—Å–º–∏–Ω–µ—Ü",en:"Destroyer"}, tier:10, rarity:{ru:"–≠–ø–∏—á–µ—Å–∫–∏–π",en:"Epic"}, hp:16000, speed:32, maneuver:82, view:12 },
  { name:"Kirov", country:{ru:"–†–æ—Å—Å–∏—è",en:"Russia"}, type:{ru:"–ö—Ä–µ–π—Å–µ—Ä",en:"Cruiser"}, tier:8, rarity:{ru:"–†–µ–¥–∫–∏–π",en:"Rare"}, hp:18000, speed:31, maneuver:78, view:10 },
  { name:"Iowa", country:{ru:"–°–®–ê",en:"USA"}, type:{ru:"–õ–∏–Ω–∫–æ—Ä",en:"Battleship"}, tier:9, rarity:{ru:"–≠–ø–∏—á–µ—Å–∫–∏–π",en:"Epic"}, hp:27000, speed:28, maneuver:70, view:11 },
  { name:"Hood", country:{ru:"–í–µ–ª–∏–∫–æ–±—Ä–∏—Ç–∞–Ω–∏—è",en:"UK"}, type:{ru:"–õ–∏–Ω–∫–æ—Ä-–∫—Ä–µ–π—Å–µ—Ä",en:"Battlecruiser"}, tier:10, rarity:{ru:"–õ–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–π",en:"Legendary"}, hp:30000, speed:32, maneuver:72, view:12 },
  { name:"Minsk", country:{ru:"–†–æ—Å—Å–∏—è",en:"Russia"}, type:{ru:"–ö—Ä–µ–π—Å–µ—Ä",en:"Cruiser"}, tier:8, rarity:{ru:"–†–µ–¥–∫–∏–π",en:"Rare"}, hp:16000, speed:29, maneuver:80, view:10 },
  { name:"Yamato", country:{ru:"–Ø–ø–æ–Ω–∏—è",en:"Japan"}, type:{ru:"–õ–∏–Ω–∫–æ—Ä",en:"Battleship"}, tier:10, rarity:{ru:"–õ–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–π",en:"Legendary"}, hp:32000, speed:27, maneuver:65, view:11 },
  { name:"Atago", country:{ru:"–Ø–ø–æ–Ω–∏—è",en:"Japan"}, type:{ru:"–ö—Ä–µ–π—Å–µ—Ä",en:"Cruiser"}, tier:9, rarity:{ru:"–≠–ø–∏—á–µ—Å–∫–∏–π",en:"Epic"}, hp:21000, speed:33, maneuver:75, view:11 },
  { name:"Gearing", country:{ru:"–°–®–ê",en:"USA"}, type:{ru:"–≠—Å–º–∏–Ω–µ—Ü",en:"Destroyer"}, tier:9, rarity:{ru:"–≠–ø–∏—á–µ—Å–∫–∏–π",en:"Epic"}, hp:14000, speed:36, maneuver:88, view:12 }
];

let secretShip;
let history=[];
let hintHistory=[];
const maxAttempts=6;
let hintsLeft=3;

// ---------------- UI ----------------
const guessInput=document.getElementById("guessInput");
const guessBtn=document.getElementById("guessBtn");
const suggestions=document.getElementById("suggestions");
const historyDiv=document.getElementById("history");
const attemptsDiv=document.getElementById("attempts");
const playAgainBtn=document.getElementById("playAgain");
const hintBtn=document.getElementById("hintBtn");
const hintHistoryDiv=document.getElementById("hintHistory");
const langButtons=document.querySelectorAll(".lang-btn");
const historyLabels=document.getElementById("history-labels");

// ---------------- –§–£–ù–ö–¶–ò–ò ----------------
function newGame(){
  secretShip=ships[Math.floor(Math.random()*ships.length)];
  history=[]; hintHistory=[]; historyDiv.innerHTML=""; hintHistoryDiv.innerHTML="";
  hintsLeft=3; hintBtn.textContent=`${lang==="ru"?"–ü–æ–¥—Å–∫–∞–∑–∫–∞":"Hint"} (${hintsLeft})`;
  playAgainBtn.style.display="none";
  updateAttempts();
  updateHistoryLabels();
}

function updateLang(){
  langButtons.forEach(btn=>btn.classList.toggle("active", btn.dataset.lang===lang));
  guessBtn.textContent=text[lang].guess;
  guessInput.placeholder=text[lang].placeholder;
  playAgainBtn.textContent=text[lang].again;
  hintBtn.textContent=`${lang==="ru"?"–ü–æ–¥—Å–∫–∞–∑–∫–∞":"Hint"} (${hintsLeft})`;
  updateAttempts();
  updateHistoryLabels();
  renderHistory();
  renderHints();
}

function updateAttempts(){
  attemptsDiv.textContent=`${text[lang].attempts}: ${maxAttempts-history.length}`;
}

function updateHistoryLabels(){
  historyLabels.textContent=text[lang].labels;
}

function makeSquare(value, correctValue){
  let color="red"; let arrow="";
  if(value===correctValue) color="green";
  else if(typeof value==="number"){ color="orange"; arrow=value>correctValue?"‚¨áÔ∏è":"‚¨ÜÔ∏è";}
  return {value,color,arrow};
}

// ---------------- –ò–ì–†–ê ----------------
function checkGuess(){
  if(history.length>=maxAttempts || playAgainBtn.style.display==="inline-block") return;
  const guess=guessInput.value.trim();
  const ship=ships.find(s=>s.name.toLowerCase()===guess.toLowerCase());
  if(!ship){alert(text[lang].notFound); return;}

  // –°–æ—Ö—Ä–∞–Ω—è–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ –∏—Å—Ç–æ—Ä–∏–∏
  history.push(ship);
  renderHistory();

  guessInput.value=""; suggestions.style.display="none";
  updateAttempts();

  if(ship.name===secretShip.name){
    alert(text[lang].win); playAgainBtn.style.display="inline-block";
  } else if(history.length===maxAttempts){
    alert(text[lang].lose+" "+secretShip.name); playAgainBtn.style.display="inline-block";
  }
}

function renderHistory(){
  historyDiv.innerHTML=history.map(ship=>{
    let cells=[
      makeSquare(ship.country[lang], secretShip.country[lang]),
      makeSquare(ship.tier, secretShip.tier),
      makeSquare(ship.rarity[lang], secretShip.rarity[lang]),
      makeSquare(ship.type[lang], secretShip.type[lang]),
      makeSquare(ship.hp, secretShip.hp),
      makeSquare(ship.speed, secretShip.speed),
      makeSquare(ship.maneuver, secretShip.maneuver),
      makeSquare(ship.view, secretShip.view)
    ];
    let html="<table><tr>";
    cells.forEach(c=>{
      html+=`<td><div class="hint-square ${c.color}">${c.value}</div>
      <div>${c.arrow || (c.color==="green"?"‚úÖ":"‚ùå")}</div></td>`;
    });
    html+="</tr></table>";
    return html;
  }).join("");
}

// ---------------- –ü–û–î–°–ö–ê–ó–ö–ò ----------------
function giveHint(){
  if(hintsLeft<=0){alert(text[lang].hintUsed); return;}
  hintsLeft--; hintBtn.textContent=`${lang==="ru"?"–ü–æ–¥—Å–∫–∞–∑–∫–∞":"Hint"} (${hintsLeft})`;
  let hintObj={};
  if(hintsLeft===2) hintObj.type="class";
  else if(hintsLeft===1) hintObj.type="country";
  else if(hintsLeft===0) hintObj.type="tier";
  hintHistory.push(hintObj);
  renderHints();
}

function renderHints(){
  hintHistoryDiv.innerHTML=hintHistory.map(h=>{
    if(h.type==="class") return `${text[lang].hintClass}${secretShip.type[lang]}`;
    if(h.type==="country") return `${text[lang].hintCountry}${secretShip.country[lang]}`;
    if(h.type==="tier") return `${text[lang].hintTier}${secretShip.tier}, ${text[lang].hintRarity}${secretShip.rarity[lang]}`;
  }).join("<br>");
}

// ---------------- –ê–í–¢–û–î–û–ü–û–õ–ù–ï–ù–ò–ï ----------------
guessInput.addEventListener("input",()=>{
  const val=guessInput.value.toLowerCase();
  suggestions.innerHTML=""; if(!val){ suggestions.style.display="none"; return; }
  const matches=ships.filter(s=>s.name.toLowerCase().startsWith(val));
  if(!matches.length){ suggestions.style.display="none"; return; }
  suggestions.style.display="block";
  matches.forEach(s=>{
    const div=document.createElement("div");
    div.textContent=s.name;
    div.className="autocomplete-suggestion";
    div.onclick=()=>{guessInput.value=s.name; suggestions.style.display="none";};
    suggestions.appendChild(div);
  });
});

// ---------------- –°–û–ë–´–¢–ò–Ø ----------------
guessBtn.onclick=checkGuess;
playAgainBtn.onclick=newGame;
hintBtn.onclick=giveHint;
langButtons.forEach(btn=>{
  btn.onclick=()=>{
    lang=btn.dataset.lang;
    updateLang();
  };
});

// ---------------- –°–¢–ê–†–¢ ----------------
newGame();
updateLang();
</script>
</body>
</html>
